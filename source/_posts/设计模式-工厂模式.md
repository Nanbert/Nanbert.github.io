---
title: 设计模式_工厂模式
date: 2023-06-24 09:24:39
subtitle:
categories:
tags:
index_img: /img/factoryPattern.png
banner_img: /img/factoryPattern.png
---

# 简单工厂
![](/img/simpleFactory.png)
# 工厂方法
- 定义： 一个创建对象的接口，但让子类决定哪个类要实力化。工厂方法让一个类延迟实例化到子类
![](/img/factoryMethodNormal.png)
![](/img/factoryMethodExp.png)
## 依赖倒置
- 定义：依赖抽象，不依赖具体类
- 精髓：低层组件依赖于更高层的抽象
- 原则：
  - 变量不应该持有到具体类的引用
  - 类不应该派生自具体类
  - 方法不应该覆盖其任何基类的已实现方法
# 抽象工厂
- 定义：提供一个接口，用于创建相关或依赖对象的家族，而不必指定它们具体类
![](/img/abstractFactory.png)
# 要点
- 所有工厂都封装对象的创建
- 工厂方法靠继承：对象创建被委托给子类，子类实现工厂方法来创建对象
- 抽象工厂靠对象组合：对象创建在工厂接口暴露的方法中实现
- 所有工厂模式都通过减少应用对具体类的依赖，促进松耦合
- 工厂方法的意图，是允许一个类延迟实例化到其子类
- 抽象工厂的意图，是创建相关对象家族，不必依赖具体类
- 当抽象工厂模式中每一个具体工厂类只创建一个产品对象，也就是只存在一个产品等级结构时，抽象工厂模式退化成工厂方法模式；当工厂方法模式中抽象工厂与具体工厂合并，提供一个统一的工厂来创建产品对象，并将创建对象的工厂方法设计为静态方法时，工厂方法模式退化成简单工厂模式。
