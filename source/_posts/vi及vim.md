---
title: 'vi及vim'
date: 2019-07-18 16:53:33
subtitle:
categories: 文本处理
tags: 命令
cover:
---
1.  
vi:
  a.命令模式替换:%s/xx/xx/gc,s代表替换,g代表一行多次匹配,c表示确认。
  b.在每行尾部加相同内容技巧:进入列模式(ctrl+v)，按‘G’选中每一行，按‘$’延伸至行尾，再按‘A’添加内容
2.  
sed与awk的命令格式: command [options] script filename
3.  
awk默认模式为所有行，默认操作打印。
4.  
实心句点”.“表示当前行
5.  
$表示最后一行
6.  
ctrl+g显示当前文件名
ctrl+s锁住
ctrl+q解锁
7.  
一般模式中，">""&lt;"为缩进层级
8.  
ctrl+a会把当前或之后数字加1，若要一次加10则按10ctrl+a,而ctrl+x则是减
9.  
guu使当前行都变成小写，gUU使当前行都变成大写，g~则反转大小写
10.  
一般模式下按下yt，再按你想要复制内容的后一个词，之后再在插入模式里按ctrl+r+0或ctrl+r+ctrl+p+0，就完成粘贴
11.  
在插入模式中按下ctrl+r+=进入计算模式完成后回车完成结果输入。
12.  
在插入模式中可以根据字符编码进行输入字符,汇总如下:

|按键操作|用途|
|:-:|:-:|
|ctrl+v{123}|以十进制字符编码插入字符|
|ctrl+v+u{1234}|以十六进制字符编码插入字符|
|ctrl+k{char1}{char2}|插入以二合字母表示的字符|

　　可以在命令模式中输入:h digraph-table，来查看二合字母
　　一般模式中，在字符上面输入ga可查看其十进制及十六进制编码
13.  
gv重新选上次的高亮区
14.  
o在可视模式中切换高亮区的活动端
15.  
命令模式中%代表全部行
16.  
可以进入行可视模式，选中对应行，然后进入命令模式进行操作
17.  
命令模式中t为copy命令的简写
18.  
在命令模式中执行普通模式下的命令可以用normal，如:
`:%normal A;`
就是在每行后加;
19.  
一般模式下按\*可以查找当前光标下的单词
20.  
可以在命令模式中执行shell命令，只要在命令前加!,这只适合执行一次
21.  
当执行多次命令时，可以在命令模式中输入shell，要想返回vi可以在shell中输入exit
22.  
read,与write命令可以与shell命令结合使用,read把shell命令的标准输出读入缓冲区，write则是把缓冲区当做shell命令的标准输入
23.  
可以用source脚本文件执行一系列的命令
24.  
可以在一般模式中输入ctrl+w+v竖着分隔同一文件
25.  
gj、gk等是在屏幕行上的移动
26.  
文本对象与选择区域

|文本对象|选择区域|文本对象|选择区域|
|:-:|:-:|:-:|:-:|
|iw|当前单词|aw|当前单词及空格|
|iW|当前字串|aw|当前字串及空格|
|is|当前句子|as|当前句子及空格|
|ip|当前段落|ap|当前段落及空格|
|ab|当前的圆括号|ib|当前圆括号的内部|
|aB|当前的花括号|iB|当前花括号内部|
|a]|当前的方括号|i]|当前方括号的内部|
|a>|当前尖括号|i>|当前尖括号的内部|
|a'|...|...|...|
|a"|...|...|...|
|at|xml标签|...|...|

27.  
m{a-zA-Z},标记位置，\`{mark}跳转到对应位置,\`\`上次跳转动作之前的位置,经常配合使用
28.  
ctrl+o也可以跳转到上次的位置
29.  
%命令可以在一对任意括号上进行跳转
30.  
`"add`指的是剪切一整行到a寄存器,`"ap`则粘贴a寄存器里的内容
31.  
寄存器列表

|名称|含义|
|:-:|:-:|
|""|无名寄存器|
|"0|复制专用寄存器|
|"(a-z)|自定义寄存器|
|"\_|黑洞寄存器|  
  
　　在插入模式下可以用ctrl+r+上寄存器名来粘贴，此时没有"号
32.  
宏录制的过程，q{register}录制开始->q录制结束->@{register}执行宏动作,还可以指定次数
33.  
命令模式:reg {register}可以查看寄存器内容
34.  
要想不覆盖寄存器内容，可以q{register}，register名字必须为大写(如qa->qA)，这样就追加了，否则是覆盖重新录制,
35.  
一般模式下ctrl+b向前翻页
一般模式下ctrl+f向后翻页
36.
dG会删除光标之后的所有内容
37.
H,M,L,分别是移动到屏幕行的顶,中,尾
38.
按键映射

|递归|非递归|模式|
|:-:|:-:|:-:|
|:map|:noremap|normal,visual,operator-pending|
|:nmap|:nnoremap|normal|
|:xmap|:xnoremap|visual|
|:cmap|:cnoremap|command-line|
|:omap|:onoremap|operator-pending|
|:imap|:inoremap|insert|
