---
title: 文本处理瑞士军刀-扩展
date: 2022-03-22 16:41:44
subtitle:
categories:
tags:
cover:
---
## csvkit
### 安装
`pip install csvkit`
### csvlook
使csv看起来更加人性化

|选项|含义|
|:-:|:-:|
|-H|csvlook默认第一行为头，该选项取消该默认，认为无头|
|-I|不区分类型，不为数字的可读性加逗号等等|

### in2csv
转换xlsx为csv,默认为第一个表单

|选项|含义|
|:-:|:-:|
|--names|打印所有表单名|
|--sheet [name]|转换指定的表单名|

### csvgrep
csv的抓取

|选项|含义|
|:-:|:-:|
|--columns [column]|指定某一列名|
|--regex [regex]|指定正则|

### sql2csv
把数据库中的内容转换成csv

|选项|含义|
|:-:|:-:|
|--db [URL]|数据库的URL|
|--query|输入SQL语句|
### csvsql
应用sql语句到csv,主要使用SQLite的语法
### csvjoin
整合多个csv
### csvstat
分析csv的命令

|选项|含义|
|:-:|:-:|
|--freq|每个值出现的频率|
|--len|不知道啥玩意|
|--max|每列最大值|
|--min|每列最小值|
|--mean|每列平均数|
|--median|每列中位数|
|--nulls|每列是否含null|
|--stdev|每列标准差|
|--sum|每列和|
|--unique|统计每一列不同的值|
#### 例子
`seq 5 | header -a val | csvsql --query "SELECT SUM(val) AS sum FROM stdin"`
### csvcut

|选项|含义|
|:-:|:-:|
|-c|指定想要的列名,也可以指定数字，表示第几列，从1开始,以逗号分隔|
|-C|剔除某些列名，和-c相反|

## jq
linux发行版直接安装，使json格式可读性更好
## sample-stream
### 安装
`pip install sample-stream`
### 命令
这是一个处理流的命令
|选项|含义|
|:-:|:-:|
|-s|10s后关闭该流|

## rush
一个小仓库https://github.com/jeroenjanssens/rush，用来画图
### 安装
1) 安装R语言
`sudo pacman -S r`
2) 进入R命令端
`sudo R`
3) 安装remote包
`install.packages("remotes")`
4) 安装rush包,该步骤我运行两次才成功，要花费大量编译时间
`remotes::install_github("jeroenjanssens/rush")`
## pup
html可读性提升工具

## moreutils
是一个工具集
### 安装
`sudo pacman -S moreutils`
### ts
在没一行前面加上当前时间戳
## 文本转换
- json2csv:https://github.com/jehiah/json2csv
- xml2json:pacman官方库有两个版本
